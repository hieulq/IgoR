["/*9f8ee91fe443e8cd834548beab0c6d0eeffe6f2d*/Ext.define(\"Igor.model.Notification\",{extend:\"Ext.data.Model\",config:{fields:[\"userid\",\"username\",\"avatar\",\"action\",\"object\",\"objectid\",\"date\"]}});Ext.define(\"Igor.model.User\",{extend:\"Ext.data.Model\",config:{fields:[\"userid\",\"username\",\"fullname\",\"password\",\"avatar\",\"studentid\",\"email\",\"group\",\"course\"],}});Ext.define(\"Igor.model.Task\",{extend:\"Ext.data.Model\",config:{fields:[\"class_code\",\"subject_name\",\"num_of_day\",\"period\",\"subject_code\",\"session_start\",\"total_session\",\"teacher_name\",\"location\"]}});Ext.define(\"Igor.model.Classdetail\",{extend:\"Ext.data.Model\",config:{fields:[\"class_code\",\"subject_name\",\"num_of_day\",\"period\",\"subject_code\",\"session_start\",\"total_session\",\"teacher_name\",\"location\"],proxy:{type:\"ajax\",url:\"data/job_project.json",739,36,"class\"}}}});Ext.define(\"Igor.model.Classproject\",{extend:\"Ext.data.Model\",config:{fields:[\"projectid\",\"name\",\"description\"],associations:[{type:\"hasMany\",model:\"Igor.model.Projectmember\",name:\"members\",associationKey:\"members\"},{type:\"hasMany\",model:\"Igor.model.Projectjob\",name:\"jobs\",associationKey:\"jobs\"},],proxy:{type:\"ajax\",url:\"data/job_project.json",739,36,"projects\"}}}});Ext.define(\"Igor.model.Classtask\",{extend:\"Ext.data.Model\",config:{fields:[\"jobid\",\"name\",\"status\",\"start_time\",\"end_time\",\"repeat_date\",\"location\",\"note\"],proxy:{type:\"ajax\",url:\"data/job_project.json",739,36,"tasks\"}}}});Ext.define(\"Igor.model.Projectjob\",{extend:\"Ext.data.Model\",config:{fields:[\"jobid\",\"name\",\"status\",\"start_time\",\"end_time\",\"repeat_date\",\"location\",\"note\"],proxy:{type:\"ajax\",url:\"data/job_project.json",739,36,"projects.jobs\"}}}});Ext.define(\"Igor.model.Projectmember\",{extend:\"Ext.data.Model\",config:{fields:[\"userid\",\"username\",\"fullname\",\"password\",\"avatar\",\"studentid\",\"email\",\"group\",\"course\"],proxy:{type:\"ajax\",url:\"data/job_project.json",739,36,"projects.members\"}}}});Ext.define(\"Igor.controller.ClassDetails\",{extend:\"Ext.app.Controller\",views:[\"task.ClassDetails\"],init:function(){},config:{control:{jobListForm:{itemSelected:\"viewJobDetails\",},addJobToClassSubmit:{onTap:\"addJobClass\",},deleteClassSubmit:{onTap:\"deleteClass\",},addClassToUserSubmit:{onTap:\"addClassToUser\"}},routes:{\"classdetails/:id\":\"doClassDetails\"},refs:{classDetailsForm:\"#classDetailsForm\",deleteClassSubmit:\"#deleteClassSubmit\",addJobToClassSubmit:\"#addJobToClassSubmit\",addClassToUserSubmit:\"#addClassToUserSubmit\",jobListForm:\"#jobListForm\"},before:{doClassDetails:[\"getClassDetails\",\"getJobsList\"],deleteClass:[\"checkValidationDeletingClass\"],},},doClassDetails:function(){},getClassDetails:function(a){},getJobsList:function(b,a){},viewJobDetails:function(a){this.redirectTo(\"url\")},addJobClass:function(a,b){this.redirectTo(\"url\")},deleteClass:function(a){},checkValidationDeletingClass:function(){},addClassToUser:function(a,b){},});Ext.define(\"Igor.store.Notifications\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Notification\",pageSize:5,autoLoad:true,sorters:\"date\",grouper:{groupFn:function(a){return a.get(\"!username\")}},proxy:{type:\"ajax\",url:\"data/notifications.json\"}}});Ext.define(\"Igor.store.Users\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.User\",pageSize:5,autoLoad:true,sorters:\"date\",grouper:{groupFn:function(a){return a.get(\"!username\")}},proxy:{type:\"ajax\",url:\"data/users.json\"}}});Ext.define(\"Igor.store.Profiles\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.User\",pageSize:5,autoLoad:true,sorters:\"date\",grouper:{groupFn:function(a){return a.get(\"!username\")}},proxy:{type:\"ajax\",url:\"data/profiles.json\"}}});Ext.define(\"Igor.store.Tasks\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Task\",pageSize:5,autoLoad:true,sorters:\"session_start\",groupField:\"period\",groupDir:\"DESC\",grouper:{groupFn:function(a){return a.get(\"!period\")}},proxy:{type:\"ajax\",url:\"data/tasks.json\"}}});Ext.define(\"Igor.store.Classdetails\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Classdetail\",autoLoad:true,}});Ext.define(\"Igor.store.Classprojects\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Classproject\",autoLoad:true,}});Ext.define(\"Igor.store.Classtasks\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Classtask\",autoLoad:true,}});Ext.define(\"Igor.store.Projectmembers\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Projectmember\",autoLoad:true,}});Ext.define(\"Igor.store.Projectjobs\",{extend:\"Ext.data.Store\",config:{model:\"Igor.model.Projectjob\",autoLoad:true,}});Ext.define(\"Igor.view.notification.News\",{extend:\"Ext.navigation.View\",xtype:\"updatesListForm\",requires:[\"Ext.List\",],config:{autoDestroy:false,navigationBar:{defaults:{hideAnimation:Ext.os.is.Android?false:{type:\"fadeOut\",duration:200},showAnimation:Ext.os.is.Android?false:{type:\"fadeIn\",duration:200}},items:[{xtype:\"image\",docked:\"top\",ui:\"light\",width:100,height:45,src:\"resources/images/Igor.png\"},{xtype:\"button\",id:\"refreshNewsButton\",iconCls:\"time_repeat\",iconMask:true,ui:\"plain\",align:\"right\"}]},items:[{xtype:\"list\",id:\"updateList\",title:\"News\",cls:\"x-feeds\",disclosure:true,onItemDisclosure:true,limit:5,disableSelection:true,plugins:[{xclass:\"Ext.plugin.ListPaging\"},{xclass:\"Ext.plugin.PullRefresh\"}],store:\"Notifications\",itemTpl:['<div class=\"feed\" style=\"background-image:url(resources/images/headshots/{avatar});\"></div>',\"{username}\",'<span>{action} <a href=\"\">{object}</a></span>',].join(\"\"),}]}});Ext.define(\"Igor.view.about.About\",{extend:\"Ext.navigation.View\",xtype:\"aboutPage\",requires:[\"Ext.List\"],config:{autoDestroy:false,navigationBar:{items:[{xtype:\"image\",docked:\"top\",ui:\"light\",width:100,height:45,src:\"resources/images/Igor.png\"}]},items:[{xtype:\"container\",title:\"About Igor\"}]}});Ext.define(\"Igor.view.authenticate.Register\",{extend:\"Ext.form.Panel\",xtype:\"registerForm\",config:{title:\"Register\",iconCls:\"team",1028,48,"Register\",instructions:\"Email and Password are required.",1127,35,"Full Name\",name:\"fullname\"},{xtype:\"textfield\",label:\"Student ID\",name:\"studentid\"},{xtype:\"datepickerfield\",name:\"dob\",label:\"DOB\",value:new Date(\"3/19/1989\"),picker:{yearFrom:1989}},{xtype:\"selectfield\",label:\"Course\",name:\"course\",valueField:\"course\",displayField:\"title\",store:{data:[{course:\"52\",title:\"Course 52\"},{course:\"53\",title:\"Course 53\"},{course:\"54\",title:\"Course 54\"},{course:\"55\",title:\"Course 55\"},{course:\"56\",title:\"Course 56\"}]}},{xtype:\"selectfield\",label:\"Group\",name:\"group\",valueField:\"groupid\",displayField:\"title\",store:{data:[{groupid:\"1\",title:\"HTTT\"},{groupid:\"2\",title:\"TTM\"},{groupid:\"3\",title:\"KHMT\"},{groupid:\"4\",title:\"KTMT\"},{groupid:\"5\",title:\"CNPM\"}]}}]},{xtype:\"button\",text:\"Register\",ui:\"confirm\",margin:\"5",1335,165,"});Ext.define(\"Igor.view.task.NewProject\",{extend:\"Ext.form.Panel\",xtype:\"newProjectForm\",id:\"newProjectForm\",config:{title:\"New Project",1028,48,"New Project\",instructions:\"Enter Required Information.",1127,62,"textfield\",label:\"Description\",name:\"description\"},{xtype:\"selectfield\",label:\"Select Member\",name:\"members\",valueField:\"userid\",displayField:\"name\",store:{data:[{userid:\"1\",name:\"Hieu LE\"},{course:\"2\",name:\"Phuc NGUYEN\"},{userid:\"3\",name:\"Tu NGUYEN\"}]}}]},{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Save\",ui:\"confirm\",scope:this,handler:function(){var a=this.form;a.setMasked({xtype:\"loadmask\",message:\"Saving...\"});setTimeout(function(){if(a.user){a.updateRecord(a.user,true)}a.setMasked(false)},1000)}},{xtype:\"spacer\"},{text:\"Reset\",handler:function(){Ext.getCmp(\"newProjectForm\").reset()}}]}]}});Ext.define(\"Igor.view.profile.Edit\",{extend:\"Ext.form.Panel\",xtype:\"profileEdit\",id:\"profileEdit\",config:{title:\"Edit",1028,48,"Edit\",instructions:\"Input valid Student ID and Email.",1127,35,"Full Name\",name:\"fullname\"},{xtype:\"textfield\",label:\"Student ID\",name:\"studentid\"},{xtype:\"datepickerfield\",name:\"dob\",label:\"DOB\",value:new Date(\"3/19/1989\"),picker:{yearFrom:1989}},{xtype:\"selectfield\",label:\"Course\",name:\"course\",valueField:\"course\",displayField:\"title\",store:{data:[{course:\"52\",title:\"Course 52\"},{course:\"53\",title:\"Course 53\"},{course:\"54\",title:\"Course 54\"},{course:\"55\",title:\"Course 55\"},{course:\"56\",title:\"Course 56\"}]}},{xtype:\"selectfield\",label:\"Group\",name:\"group\",valueField:\"groupid\",displayField:\"title\",store:{data:[{groupid:\"1\",title:\"HTTT\"},{groupid:\"2\",title:\"TTM\"},{groupid:\"3\",title:\"KHMT\"},{groupid:\"4\",title:\"KTMT\"},{groupid:\"5\",title:\"CNPM\"}]}}]},{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Save\",ui:\"confirm\",scope:this,handler:function(){var a=this.form;a.setMasked({xtype:\"loadmask\",message:\"Saving...\"});setTimeout(function(){if(a.user){a.updateRecord(a.user,true)}a.setMasked(false)},1000)}},{xtype:\"spacer\"},{text:\"Reset\",handler:function(){Ext.getCmp(\"profileEdit\").reset()}}]}]}});Ext.define(\"Igor.view.task.New\",{extend:\"Ext.form.Panel\",xtype:\"newTask\",config:{title:\"New Scheduler\",iconCls:\"team",1028,48,"Register\",instructions:\"Email and Password are required.",1127,35,"Full Name\",name:\"fullname\"},{xtype:\"textfield\",label:\"Student ID\",name:\"studentid\"},{xtype:\"datepickerfield\",name:\"dob\",label:\"DOB\",value:new Date(\"3/19/1989\"),picker:{yearFrom:1989}},{xtype:\"selectfield\",label:\"Course\",name:\"course\",valueField:\"course\",displayField:\"title\",store:{data:[{course:\"52\",title:\"Course 52\"},{course:\"53\",title:\"Course 53\"},{course:\"54\",title:\"Course 54\"},{course:\"55\",title:\"Course 55\"},{course:\"56\",title:\"Course 56\"}]}},{xtype:\"selectfield\",label:\"Group\",name:\"group\",valueField:\"groupid\",displayField:\"title\",store:{data:[{groupid:\"1\",title:\"HTTT\"},{groupid:\"2\",title:\"TTM\"},{groupid:\"3\",title:\"KHMT\"},{groupid:\"4\",title:\"KTMT\"},{groupid:\"5\",title:\"CNPM\"}]}}]},{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Save\",ui:\"confirm\",scope:this,handler:function(){var a=this.form;a.setMasked({xtype:\"loadmask\",message:\"Saving...\"});setTimeout(function(){if(a.user){a.updateRecord(a.user,true)}a.setMasked(false)},1000)}},{xtype:\"spacer\"},{text:\"Cancel\",handler:function(){var c=this.up(\"navigationview\");var b=Ext.getCmp(\"addTaskBtn\");var a=Ext.getCmp(\"termSelectBtn\");c.pop();b.show();a.show()}}]}]}});Ext.define(\"Igor.view.task.ClassTaskDetails\",{extend:\"Ext.Container\",xtype:\"classTaskDetailsForm\",itemId:\"classTaskDetailsForm\",requires:[\"Ext.List\",\"Igor.store.Classtasks\"],config:{layout:\"vbox\",cls:\"userInfo\",title:\"Job Detail\",items:[{xtype:\"dataview\",itemId:\"taskDetailPanel\",flex:1,scrollable:true,store:\"Classtasks\",itemTpl:['<div class=\"header\">','   <div class=\"avatar\" style=\"background-image:url(resources/images/task-icon.png);\"></div>',\"   <h3>{name}</h3>\",\"   <h4>{location}</h4>\",\"</div>\",'<div class=\"x-container x-form-fieldset nonEditable\" style=\"padding: 1em;\">','<div class=\"x-docking-vertical\">','<div class=\"x-body\">','<div class=\"x-inner x-form-fieldset-inner\">','<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important;\">',\"<span>Start Time</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-text\" type=\"text\" value=\"{start_time}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field x-field-text x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>End Time</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"email\" value=\"{end_time}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>Note</span>\",\"</div>\",'<div class=\"x-component-outer\">','<divclass=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"text\" value=\"{note}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\"].join(\"\"),},{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Mark Completed\",ui:\"confirm\",scope:this,handler:function(){}},{xtype:\"spacer\"},{text:\"Mark Incompeleted\",ui:\"decline\",handler:function(){}}]}]}});Ext.define(\"Igor.utility.picker.Time\",{extend:\"Ext.picker.Picker\",xtype:\"timepicker\",config:{increment:5,minHours:0,maxHours:23,hoursTitle:\"Hours\",minutesTitle:\"Minutes\",slots:[]},setValue:function(d,c){var a=this.getInitialConfig().increment,b;if(Ext.isDate(d)){d={hours:d.getHours(),minutes:d.getMinutes()}}b=d.minutes%a;if(b>0){d.minutes=Math.round(d.minutes/a)*a}this.callParent([d,c])},getValue:function(){var b=this.callParent(arguments),a=new Date();b=new Date(a.getFullYear(),a.getMonth(),a.getDate(),b.hours,b.minutes);return b},applySlots:function(c){var d=this,a=d.createHoursSlot(),b=d.createMinutesSlot();return[a,b]},createHoursSlot:function(){var c=this,j=c.getInitialConfig(),e=j.hoursTitle,d=j.minHours,b=j.maxHours,f=[],g;for(var a=d;a<=b;a++){var h=(a<10)?(\"0\"+a):a;f.push({text:h,value:a})}g={name:\"hours\",align:\"center\",title:e,data:f,flex:1};return g},createMinutesSlot:function(){var d=this,e=d.getInitialConfig(),g=e.minutesTitle,a=e.increment,c=[],h;for(var b=0;b<60;b+=a){var f;f=(b<10)?(\"0\"+b):b;c.push({text:f,value:b})}h={name:\"minutes\",align:\"center\",title:g,data:c,flex:1};return h}});Ext.define(\"Igor.view.task.JobDetails\",{extend:\"Ext.Container\",xtype:\"jobDetailsForm\",itemId:\"jobDetailsForm\",requires:[\"Ext.List\",\"Igor.store.Projectjobs\"],config:{layout:\"vbox\",cls:\"userInfo\",title:\"Job Detail\",items:[{xtype:\"dataview\",itemId:\"jobDetailPanel\",flex:1,scrollable:true,store:\"Projectjobs\",itemTpl:['<div class=\"header\">','   <div class=\"avatar\" style=\"background-image:url(resources/images/task-icon.png);\"></div>',\"   <h3>{name}</h3>\",\"   <h4>{location}</h4>\",\"</div>\",'<div class=\"x-container x-form-fieldset nonEditable\" style=\"padding: 1em;\">','<div class=\"x-docking-vertical\">','<div class=\"x-body\">','<div class=\"x-inner x-form-fieldset-inner\">','<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important;\">',\"<span>Start Time</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-text\" type=\"text\" value=\"{start_time}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field x-field-text x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>End Time</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"email\" value=\"{end_time}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>Note</span>\",\"</div>\",'<div class=\"x-component-outer\">','<divclass=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"text\" value=\"{note}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\"].join(\"\"),},{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Mark Completed\",ui:\"confirm\",scope:this,handler:function(){}},{xtype:\"spacer\"},{text:\"Mark Incompeleted\",ui:\"decline\",handler:function(){}}]}]},initialize:function(){var a=Ext.data.StoreManager.lookup(\"Projectjobs\");a.load({callback:function(c,b,d){console.log(c)},scope:this})}});Ext.define(\"Igor.view.authenticate.Authenticate\",{extend:\"Ext.navigation.View\",xtype:\"loginForm\",requires:[\"Igor.view.authenticate.Register\"],config:{items:[{xtype:\"formpanel\",title:\"Login\",iconCls:\"team\",layout:\"vbox\",items:[{xtype:\"image\",cls:\"logo\",ui:\"light\",width:100,height:45,src:\"resources/images/Igor.png\"},{xtype:\"fieldset\",title:\"Login\",instructions:\"Email and Password are required.\",items:[{xtype:\"emailfield\",id:\"emailAddress",1199,38,"passwordfield\",id:\"password\",label:\"Password\",name:\"password\"}]},{xtype:\"button\",text:\"Login\",id:\"submitBtn\",ui:\"confirm\",margin:\"5\",handler:function(){var b=this.up(\"formpanel\");var a=b.getValues();if(a.email==\"hieulq89@gmail.com\"&&a.password==\"123456\"){Ext.Viewport.setActiveItem(Ext.create(\"Igor.view.Main\"))}else{Ext.Msg.alert(\"Sorry\",\"Incorrect email/password!\")}}},{xtype:\"button\",text:\"Register with Gmail\",ui:\"action\",margin:\"5",1335,36,"navigationview\");a.push({xtype:\"registerpage\"})}}]}]}});Ext.define(\"Igor.view.profile.Profile\",{extend:\"Ext.navigation.View\",xtype:\"userDetailsForm\",requires:[\"Ext.List\",\"Igor.store.Users\",\"Igor.view.profile.Edit\"],config:{autoDestroy:false,navigationBar:{defaults:{hideAnimation:Ext.os.is.Android?false:{type:\"fadeOut\",duration:200},showAnimation:Ext.os.is.Android?false:{type:\"fadeIn\",duration:200}},items:[{xtype:\"button\",id:\"editProfileButton\",iconCls:\"compose\",iconMask:true,ui:\"plain\",align:\"right",1335,36,"navigationview\");a.push({xtype:\"profileEdit\"});this.hide()}}]},items:[{xtype:\"container\",layout:\"vbox\",cls:\"userInfo\",title:\"Profile\",items:[{xtype:\"dataview\",flex:1,scrollable:true,store:\"Users\",itemTpl:['<div class=\"header\">','   <div class=\"avatar\" style=\"background-image:url(resources/images/headshots/{avatar});\"></div>',\"   <h3>{fullname}</h3>\",\"   <h4>{group} - Course {course}</h4>\",\"</div>\",'<div class=\"x-container x-form-fieldset nonEditable\" style=\"padding: 1em;\">','<div class=\"x-docking-vertical\">','<div class=\"x-body\">','<div class=\"x-inner x-form-fieldset-inner\">','<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important;\">',\"<span>Student ID</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-text\" type=\"text\" value=\"{studentid}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field x-field-text x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>Email</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"email\" value=\"{email}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>Username</span>\",\"</div>\",'<div class=\"x-component-outer\">','<divclass=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"text\" value=\"{username}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\"].join(\"\")}]}]}});Ext.define(\"Igor.utility.picker.TimePicker\",{extend:\"Ext.field.DatePicker\",xtype:\"timepickerfield\",requires:[\"Igor.utility.picker.Time\"],config:{dateFormat:\"H:i\",picker:true},applyValue:function(d){if(!Ext.isDate(d)&&!Ext.isObject(d)){d=null}if(Ext.isObject(d)){var b=new Date(),c=d.year||b.getFullYear(),e=d.month||b.getMonth(),a=d.day||b.getDate();d=new Date(c,e,a,d.hours,d.minutes)}return d},applyPicker:function(a){a=Ext.factory(a,\"Igor.utility.picker.Time\");a.setHidden(true);Ext.Viewport.add(a);return a},updatePicker:function(a){a.on({scope:this,change:\"onPickerChange\",hide:\"onPickerHide\"});a.setValue(this.getValue());return a}});Ext.define(\"Igor.view.task.NewClassTask\",{extend:\"Ext.form.Panel\",xtype:\"newClassTaskForm\",id:\"newClassTaskForm\",requires:[\"Igor.utility.picker.TimePicker\"],config:{title:\"New Class Task",1028,48,"New Class Task\",instructions:\"Enter Required Information.",1127,62,"textfield\",label:\"Location\",name:\"location",1226,33,"Note\",name:\"note\",height:90},{xtype:\"datepickerfield\",name:\"startdate\",label:\"Start Date\",value:new Date(),picker:{yearFrom:2000}},{xtype:\"timepickerfield\",label:\"Start Time\",value:new Date(),name:\"starttime\",picker:{height:300,}},{xtype:\"datepickerfield\",name:\"enddate\",label:\"Deadline Date\",value:new Date(),picker:{yearFrom:2000}},{xtype:\"timepickerfield\",label:\"Deadline Time\",value:new Date(),name:\"endtime\",picker:{height:300,}}]},{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Save\",ui:\"confirm\",scope:this,handler:function(){var a=this.form;a.setMasked({xtype:\"loadmask\",message:\"Saving...\"});setTimeout(function(){if(a.user){a.updateRecord(a.user,true)}a.setMasked(false)},1000)}},{xtype:\"spacer\"},{text:\"Reset\",handler:function(){Ext.getCmp(\"newClassTaskForm\").reset()}}]}]}});Ext.define(\"Igor.controller.Main\",{extend:\"Ext.app.Controller\",views:[\"Main\"],requires:[\"Igor.view.task.NewProject\",\"Igor.view.task.NewClassTask\"],init:function(){},config:{control:{updatesList:{itemtap:\"viewUpdateDetails\",disclose:\"viewUpdateDiscloseDetails\"},dayTabPanel:{tabSelected:\"showTasksByDay\",},tasksListByDay:{itemtap:\"viewTaskDetails\",},friendsListForm:{itemtap:\"viewFriendDetails\",},classesListForm:{itemtap:\"viewClassDetails\",},userDetailsForm:{pop:\"onProfilePop\",},tasksForm:{pop:\"onTaskPop\",push:\"onTaskPush\"}},routes:{updates:\"doUpdates\",\"updates/Update/:id\":\"viewUpdateDetails\",\"tasks/:id\":\"doTasks\",\"tasks/taskbyday/:timestamp\":\"showTasksByDay\",\"tasks/Task/:id\":\"viewTaskDetails\",\"user/:id\":\"doUser\",\"user/frienddetails/:id\":\"viewFriendDetails\",\"user/classdetails/:id\":\"viewClassDetails\",},refs:{updatesList:\"#updateList\",tasksForm:\"tasksForm\",dayTabPanel:\"#dayTabPanel\",tasksListByDay:\"#tasksListByDay\",userDetailsForm:\"userDetailsForm\",friendsListForm:\"#friendsListForm\",classesListForm:\"#classesListForm\",},before:{doUpdates:[\"ensureLoadingUserInfo\",\"getAllUpdates\"],doTasks:[\"getCurrentTime\",\"getAllTasksByUser\"],doUser:[\"getUserDetails\",\"getFriendsListByUser\",\"getClassesListByUser\"]},},onProfilePop:function(){var a=Ext.getCmp(\"editProfileButton\");a.show()},onTaskPop:function(){var d=this.getTasksForm();var b=d.getPreviousItem();if(b==null){var c=Ext.getCmp(\"termSelectBtn\");var a=Ext.getCmp(\"addTaskBtn\");a.setHandler(function(){var f=this.up(\"navigationview\");var e=Ext.getCmp(\"termSelectBtn\");f.push({xtype:\"newTask\"});this.hide();e.hide()});c.show();a.show()}else{if(b.getItemId().indexOf(\"scheduler\")!=-1){var a=Ext.getCmp(\"addTaskBtn\");a.show();a.setHandler(function(){this.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:\"Add New Project\",scope:this,handler:function(){d.push({xtype:\"newProjectForm\"});this.hide();this.actions.hide()}},{text:\"Add New Task\",scope:this,handler:function(){d.push({xtype:\"newClassTaskForm\"});this.hide();this.actions.hide()}},{xtype:\"button\",text:\"Cancel\",scope:this,handler:function(){this.actions.hide()}}]});this.actions.show()})}else{if(b.getItemId().indexOf(\"classDetailsForm\")!=-1){var a=Ext.getCmp(\"addTaskBtn\");a.show();a.setHandler(function(){this.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:\"Add New Member\",scope:this,handler:function(){d.push({xtype:\"newProjectForm\"});this.hide();this.actions.hide()}},{text:\"Add New Job\",scope:this,handler:function(){d.push({xtype:\"newClassTaskForm\"});this.hide();this.actions.hide()}},{xtype:\"button\",text:\"Cancel\",scope:this,handler:function(){this.actions.hide()}}]});this.actions.show()})}}}},onTaskPush:function(){var b=this.getTasksForm();var c=b.getActiveItem();if(c.getItemId().indexOf(\"classDetailsForm\")!=-1){var a=Ext.getCmp(\"addTaskBtn\");a.setHandler(function(){this.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:\"Add New Project\",scope:this,handler:function(){b.push({xtype:\"newProjectForm\"});this.hide();this.actions.hide()}},{text:\"Add New Task\",scope:this,handler:function(){b.push({xtype:\"newClassTaskForm\"});this.hide();this.actions.hide()}},{xtype:\"button\",text:\"Cancel\",scope:this,handler:function(){this.actions.hide()}}]});this.actions.show()})}else{if(c.getItemId().indexOf(\"projectDetailsForm\")!=-1){var a=Ext.getCmp(\"addTaskBtn\");a.setHandler(function(){this.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:\"Add New Member\",scope:this,handler:function(){b.push({xtype:\"newProjectForm\"});this.hide();this.actions.hide()}},{text:\"Add New Job\",scope:this,handler:function(){b.push({xtype:\"newClassTaskForm\"});this.hide();this.actions.hide()}},{xtype:\"button\",text:\"Cancel\",scope:this,handler:function(){this.actions.hide()}}]});this.actions.show()})}else{if(c.getItemId().indexOf(\"classTaskDetailsForm\")!=-1){var a=Ext.getCmp(\"addTaskBtn\");a.hide()}else{if(c.getItemId().indexOf(\"jobDetailsForm\")!=-1){var a=Ext.getCmp(\"addTaskBtn\");a.hide()}}}}},doUpdates:function(){this.showListForm()},ensureLoadingUserInfo:function(){},getAllUpdates:function(a){},showListForm:function(){},viewUpdateDetails:function(c,b,d,a){var e=c.getStore().getAt(b);Ext.Msg.alert(\"Test\",\"1Redirect to objectid \"+e.get(\"objectid\"))},doTasks:function(){this.showTasksByUser()},getAllTasksByUser:function(a){},getCurrentTime:function(){},showTasksByUser:function(){},showTasksByDay:function(a){},viewTaskDetails:function(a){this.redirectTo(\"url\")},doUser:function(){},getUserDetails:function(a){},getFriendsListByUser:function(){},getClassesListByUser:function(a){},viewFriendDetails:function(a){this.redirectTo(\"url\")},viewClassDetails:function(a){this.redirectTo(\"url\")},});Ext.define(\"Igor.view.task.ProjectDetails\",{extend:\"Ext.Container\",xtype:\"projectDetailsForm\",itemId:\"projectDetailsForm\",requires:[\"Ext.List\",\"Igor.view.task.JobDetails\",\"Igor.store.Classprojects\",\"Igor.store.Projectmembers\",\"Igor.store.Projectjobs\"],config:{layout:\"vbox\",cls:\"userInfo\",title:\"Project Detail\",items:[{xtype:\"dataview\",itemId:\"projectDetailPanel\",height:\"97px\",flex:2,scrollable:false,store:\"Classprojects\",itemTpl:['<div class=\"header\">','   <div class=\"avatar\" style=\"background-image:url(resources/images/project_icon.png);\"></div>',\"   <h3>{name}</h3>\",\"   <h4>{description}</h4>\",\"</div>\"].join(\"\"),},{xtype:\"list\",itemId:\"projectMemberList\",store:\"Projectmembers\",disclosure:true,onItemDisclosure:true,flex:1,cls:\"x-feeds\",itemTpl:['<div class=\"feed\" style=\"background-image:url(resources/images/headshots/{avatar});\"></div>',\"{fullname}\",\"<span>{studentid}-{group}C{course}-{email}</span>\",].join(\"\"),items:[{xtype:\"listitemheader\",cls:\"dark\",html:\"Members\"}],listeners:{itemtap:function(c,b,d,a){var e=c.getStore().getAt(b);Ext.Msg.alert(\"Test\",\"Redirect to userid \"+e.get(\"userid\"));console.log(e.get(\"userid\"))}}},{xtype:\"list\",itemId:\"projectJobList\",store:\"Projectjobs\",disclosure:true,onItemDisclosure:true,flex:1,cls:\"x-feeds\",itemTpl:['<div class=\"feed\" style=\"background-image:url(resources/images/{status}.png);\"></div>',\"{name}\",\"<span>{start_time} at {location}</span>\",].join(\"\"),items:[{xtype:\"listitemheader\",cls:\"dark\",html:\"Jobs\"}],listeners:{itemtap:function(c,b,e,a){var d=this.up(\"navigationview\");d.push({xtype:\"jobDetailsForm\"})}}},]},initialize:function(){var a=Ext.data.StoreManager.lookup(\"Projectmembers\");a.load({callback:function(c,b,d){console.log(c)},scope:this})}});Ext.define(\"Igor.view.task.ClassDetails\",{extend:\"Ext.Container\",xtype:\"classDetailsForm\",itemId:\"classDetailsForm\",requires:[\"Ext.List\",\"Igor.view.task.ProjectDetails\",\"Igor.view.task.ClassTaskDetails\",\"Igor.store.Classdetails\",\"Igor.store.Classprojects\",\"Igor.store.Classtasks\"],config:{layout:\"vbox\",cls:\"userInfo\",title:\"Class Detail\",autoDestroy:false,items:[{xtype:\"dataview\",itemId:\"classDetailPanel\",flex:2,scrollable:false,store:\"Classdetails\",itemTpl:['<div class=\"header\">','   <div class=\"avatar\" style=\"background-image:url(resources/images/class-icon.png);\"></div>',\"   <h3>{subject_code}-{subject_name}</h3>\",\"   <h4>ID: {class_code}</h4>\",\"</div>\",'<div class=\"x-container x-form-fieldset nonEditable\" style=\"padding: 1em;\">','<div class=\"x-docking-vertical\">','<div class=\"x-body\">','<div class=\"x-inner x-form-fieldset-inner\">','<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important;\">',\"<span>Session</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-text\" type=\"text\" value=\"{total_session}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field x-field-text x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>Teacher</span>\",\"</div>\",'<div class=\"x-component-outer\">','<div class=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"email\" value=\"{teacher_name}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",'<div class=\"x-container x-field-text x-field x-label-align-left x-field-labeled x-form-label-nowrap x-empty\">','<div class=\"x-form-label\" style=\"width: 30% !important; \">',\"<span>Location</span>\",\"</div>\",'<div class=\"x-component-outer\">','<divclass=\"x-field-input\">','<input class=\"x-input-el x-form-field x-input-email\" type=\"text\" value=\"{location}\">','<div class=\"x-field-mask\" style=\"display: none !important; \"></div>',\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\",\"</div>\"].join(\"\"),},{xtype:\"list\",itemId:\"classProjectList\",store:\"Classprojects\",disclosure:true,onItemDisclosure:true,flex:1,cls:\"x-feeds\",itemTpl:['<div class=\"feed\" style=\"background-image:url(resources/images/project_icon.png);\"></div>',\"{name}\",\"<span>{description}</span>\",].join(\"\"),items:[{xtype:\"listitemheader\",cls:\"dark\",html:\"Projects\"}],listeners:{itemtap:function(c,b,e,a){var d=this.up(\"navigationview\");d.push({xtype:\"projectDetailsForm\"})}}},{xtype:\"list\",itemId:\"classTaskList\",store:\"Classtasks\",disclosure:true,onItemDisclosure:true,flex:1,cls:\"x-feeds\",itemTpl:['<div class=\"feed\" style=\"background-image:url(resources/images/{status}.png);\"></div>',\"{name}\",\"<span>{start_time} at {location}</span>\",].join(\"\"),items:[{xtype:\"listitemheader\",cls:\"dark\",html:\"Tasks\"}],listeners:{itemtap:function(c,b,e,a){var d=this.up(\"navigationview\");d.push({xtype:\"classTaskDetailsForm\"})}}},]},initialize:function(){}});Ext.define(\"Igor.view.task.Task\",{extend:\"Ext.NavigationView\",xtype:\"tasksForm\",requires:[\"Ext.List\",\"Ext.Container\",\"Igor.view.task.ClassDetails\",\"Igor.view.task.New\"],config:{autoDestroy:false,navigationBar:{defaults:{hideAnimation:Ext.os.is.Android?false:{type:\"fadeOut\",duration:200},showAnimation:Ext.os.is.Android?false:{type:\"fadeIn\",duration:200}},items:[{xtype:\"button\",id:\"termSelectBtn\",iconCls:\"doc_drawer\",iconMask:true,ui:\"plain\",align:\"right\",handler:function(){if(!this.picker){this.picker=Ext.Viewport.add({xtype:\"picker\",title:\"Select Term\",toolbar:{title:\"Select Term\"},slots:[{name:\"term\",title:\"Term\",data:[{text:\"20111\",value:20111},{text:\"20112\",value:20112},{text:\"20113\",value:20113},{text:\"20121\",value:20121}]}]})}this.picker.show()}},{xtype:\"button\",id:\"addTaskBtn\",iconCls:\"add\",iconMask:true,ui:\"plain\",align:\"right\",handler:function(){var b=this.up(\"navigationview\");var a=Ext.getCmp(\"termSelectBtn\");b.push({xtype:\"newTask\"});this.hide();a.hide()}}]},items:[{xtype:\"list\",itemId:\"schedulerList\",ui:\"round\",title:\"Schedulers\",itemTpl:\"{title}\",limit:5,store:\"Tasks\",grouped:true,itemTpl:['<div class=\"class\"><div class=\"title\">{subject_name}</div>','<div class=\"session\">{total_session}</div></div>','<span style=\"font-size: 70%\">{location}</span>'].join(\"\"),items:[{docked:\"top\",xtype:\"toolbar\",scrollable:\"horizontal\",items:[{padding:\"0 5\",defaults:{width:\"95px\"},xtype:\"segmentedbutton\",allowDepress:true,items:[{text:\"Monday\",pressed:true},{text:\"Tuesday\"},{text:\"Wednesday\"},{text:\"Thursday\"},{text:\"Friday\"},{text:\"Saturday\"},{text:\"Sunday\"}],listeners:{toggle:function(a,b,c){Ext.Msg.alert(\"Test\",\"User toggled the '\"+b._text+\"' button: \"+(c?\"on\":\"off\"))}}}]}]",869,33,"g,b){var h=e.getStore().getAt(d);var f=this.up(\"navigationview\");var a=Ext.getCmp(\"addTaskBtn\");var c=Ext.getCmp(\"termSelectBtn\");f.push({xtype:\"classDetailsForm\"});c.hide()}}}]},initialize:function(){this.callParent();var b=this.down(\"segmentedbutton\");var a=new Date().getDay();if(a==0){b.setPressedButtons(6)}else{b.setPressedButtons(a-1)}}});Ext.define(\"Igor.view.Main\",{extend:\"Ext.tab.Panel\",xtype:\"mainpanel\",requires:[\"Igor.view.notification.News\",\"Igor.view.profile.Profile\",\"Igor.view.task.Task\",\"Igor.view.about.About\"],config:{",126,40,"ui:\"dark\",layout:{animation:\"slide\",type:\"card\"},items:[{title:\"News\",iconCls:\"rss\",cls:\"news\",badgeText:\"3\",xtype:\"updatesListForm\",id:\"updates\"},{xtype:\"tasksForm\",id:\"tasks\",title:\"Scheduler\",iconCls:\"calendar2\",cls:\"task\"},{title:\"Me\",iconCls:\"team\",cls:\"profile\",xtype:\"userDetailsForm\",id:\"user\"},{title:\"About\",iconCls:\"info\",cls:\"about\",xtype:\"aboutPage\"",957,35,"\",iconCls:\"chat_black2",1028,309,"}]}]}});Ext.Loader.setConfig({disableCaching:false});Ext.application({name:\"Igor\",requires:[\"Ext.MessageBox\"],controllers:[\"Main\",\"ClassDetails\"],views:[\"Main\",\"authenticate.Authenticate\"],stores:[\"Notifications\",\"Users\",\"Profiles\",\"Tasks\",\"Classdetails\",\"Classprojects\",\"Classtasks\",\"Projectmembers\",\"Projectjobs\"],models:[\"Notification\",\"User\",\"Task\",\"Classdetail\",\"Classproject\",\"Classtask\",\"Projectjob\",\"Projectmember\"],icon:{57:\"resources/icons/icon.png\",72:\"resources/icons/icon@72.png\",114:\"resources/icons/icon@2x.png\",144:\"resources/icons/icon@114.png\"},phoneStartupScreen:\"resources/loading/Homescreen.jpg\",tabletStartupScreen:\"resources/loading/Homescreen~ipad.jpg\",launch:function(){Ext.fly(\"appLoadingIndicator\").destroy();Ext.Viewport.add({xclass:\"Igor.view.Main\"})},onUpdated:function(){Ext.Msg.confirm(\"Application Update\",\"This application has just successfully been updated to the latest version. Reload now?\",function(a){if(a===\"yes\"){window.location.reload()}})}});"]