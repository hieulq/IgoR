["/*c7e34ee062fafbcc57bb74a313a9bf306870f345",42,2666,"model.Sub",1052,48,"subject_id\",\"subject_name\",\"subject_code\",\"class_count\",],",6483,121,18775,121,9008,127,18966,96,6782,537,"HTTT\",title:\"HTTT\"},{groupid:\"TTM\",title:\"TTM\"},{groupid:\"KHMT\",title:\"KHMT\"},{groupid:\"KTMT\",title:\"KTMT\"},{groupid:\"CNPM",7427,53,"itemId:\"submitRegisterBtn\",ui:\"confirm\",margin:\"5\",",2685,2597,"store.Sub",4623,58,"Subject",4572,37,5282,98,37824,203,5584,602,",",6186,323,"task.New",26079,33,"newTask",12877,35,"Subjects\"]",8916,60,26379,32,"fieldset\",margin:15,items:[{xtype:\"searchfield\",itemId:\"subjectSearch\",flex:1,scrollable:false,height:\"42px\",placeHolder:\"Search...\",}]},{xtype:\"list\",ui:\"round\",itemId:\"subjectList\",cls:\"x-feeds\",flex:1,disclosure:true,limit:5",25805,33,"d,a){alert(a.data.subject_id)}},emptyText:'<div style=\"margin-top: 20px; text-align: center\">No Matching Subject</div>'",5910,85,"Subject",28857,76,"subject-icon.png);\"></div>',\"{subject_name}\",\"<span>ID: {subject_code} - {class_count} class(es)",28556,68,"Subject List\"}],},]}});Ext.define(\"Igor.utility.ux.PathMenu\",{mixins:[\"Ext.mixin.Observable\"],xtype:\"pathmenu\",requires:[\"Ext.Button\",\"Ext.util.DelayedTask\"],config:{cls:\"x-ux-pathmenu\",top:null,bottom:null,right:null,left:null,height:40,width:40,items:[],radius:150,menuButtonDefault:{iconCls:\"add\",ui:\"pathmenu\",iconMask:true,isOpen:false,pathButtonType:\"menu\",cls:\"menubutton\"},menuItemDefault:{iconMask:true,ui:\"pathmenu\",isActive:false,pathButtonType:\"menuitem\"},menuItems:null,menuTrigger:null},constructor:function(c){this.initConfig(c);var d=this,b=[],a={xtype:\"button\",top:this.getTop(),bottom:this.getBottom(),right:this.getRight(),left:this.getLeft(),height:this.getHeight(),width:this.getWidth()},e=this.getMenuButtonDefault(),f=this.getMenuItemDefault();Ext.each(c.items,function(h,g){var i=Ext.apply(h,f,a);Ext.apply(i,{handler:d.onMenuItemButtonTap,scope:d});b.push(h);delete (h)},this);b.push(Ext.apply({handler:d.onMenuButtonTap,scope:d},e,a));Ext.Viewport.add(b)},onMenuItemButtonTap:function(b){var c=this,a=Ext.ComponentQuery.query(\"button[pathButtonType=menu]\")[0];b.addCls(\"tapped\");c.close(a);b.fireEvent(\"itemtap\",c,b)},onMenuButtonTap:function(a){if(!a.isOpen){this.open(a)}else{this.close(a)}},open:function(d){var c=Ext.ComponentQuery.query(\"button[pathButtonType=menuitem]\"),b=d.getBottom(),f=d.getLeft(),a=150,e=c.length-1;angle=180/e;d.replaceCls(\"close\",\"open\");Ext.each(c,function(i,h){i.addCls(\"menuitembutton\");i.replaceCls(\"close\",\"open\");var k=(180-(angle*(e-h))),j=Math.PI/180,l=j*k,g=Math.round(Math.cos(l)*a),m=Math.round(Math.sin(l)*a);i.setLeft(f+g);i.setBottom(b+m)});d.isOpen=true},close:function(b){",38260,32,"button[pathButtonType=menuitem]\");b.replaceCls(\"open\",\"close\");Ext.each(a,function(f,d,h,g){b=Ext.ComponentQuery.query(\"button[pathButtonType=menu]\")[0];if(f.getCls().indexOf(\"tapped\")===-1){f.replaceCls(\"open\",\"close\");f.setLeft(b.getLeft());f.setBottom(b.getBottom())}else{var c=Ext.create(\"Ext.util.DelayedTask\",function(){f.removeCls(\"menuitembutton\");f.setLeft(b.getLeft());f.setBottom(b.getBottom());f.removeCls(\"tapped\")});c.delay(900)}});b.isOpen=false}});Ext.define(\"Igor.utility.ux.AccordionList\",{alternateClassName:\"Ext.AccordionList\",extend:\"Ext.Container\",xtype:\"accordionlist\",requires:[\"Ext.data.Store\",\"Ext.dataview.DataView\",\"Ext.Anim\",\"Ext.XTemplate\",\"Ext.data.NodeStore\",\"Ext.data.TreeStore\"],config:{cls:Ext.baseCSSPrefix+\"accordion-list\",layout:{type:\"fit\"},store:null,displayField:\"text\",listScrollable:true,headerItemTpl:['<div style=\"background-color:#fff;',' min-height: 2.6em; padding: 0.4em 0.2em;\">','<tpl if=\"this.isExpanded(values)\">','<span class=\"x-button x-button-plain\">','<span class=\"x-button-icon arrow_down x-icon-mask\"',' style=\"margin-right:0.4em;\"></span>','<span style=\"color:#00bbe8;\">{text}</span>',\"</span>\",\"<tpl else>\",'<span class=\"x-button x-button-plain\">','<span class=\"x-button-icon arrow_right x-icon-mask\"',' style=\"margin-right:0.4em;\"></span>','<span style=\"color:#00bbe8;\">{text}</span>',\"</span>\",\"<tpl>\",\"</div>\"].join(\"\"),contentItemTpl:['<div style=\"background-color:#fff;',\" min-height: 2.6em; padding: 0.65em 0.8em;\",' border-bottom: 1px solid #dedede;\">',\"{text}\",\"</div>\"].join(\"\"),defaultExpanded:false,useAnimation:true,list:null},initialize:function(){this.doInitialize();this.callParent(arguments)},doInitialize:function(){if(this.getDefaultExpanded()){this.doAllExpanded()}},doAllExpanded:function(){var c=this.getList(),a=c.getStore();function b(d){d.expand();if(!d.isLeaf()){d.childNodes.forEach(b,this)}}a.each(b,this)},updateStore:function(a,d){var b=this.getList(),c;if(!b){c=new Ext.XTemplate('<tpl if=\"leaf\">','<div class=\"accordion-list-content\">',this.getContentItemTpl(),\"</div>\",\"<tpl else>\",'<div class=\"accordion-list-header\">',this.getHeaderItemTpl(),\"</div>\",\"</tpl>\",{isExpanded:function(e){return e.expanded}});b=Ext.create(\"Ext.dataview.DataView\",{itemTpl:c});b.on(\"itemtap\",this.onItemTap,this);this.setList(b);b.setScrollable(this.getListScrollable());this.add(b)}b.setStore(a)},updateListScrollable:function(a,c){var b=this.getList();if(b){b.setScrollable(a)}},onItemTap:function(f,c,h,a,g){var b=f.getStore(),d=b.getAt(c);this.fireEvent(\"itemtap\",this,f,c,h,a,g);if(d.isLeaf()){this.fireEvent(\"leafitemtap\",f,c,h,a,g)}else{if(d.isExpanded()){d.collapse()}else{d.expand(false,this.onExpand,this)}}},onExpand:function(){if(!this.getUseAnimation()){return}var a=this.getTargetItems()},getTargetItems:function(){var f=Ext.query(\".\"+this.getCls()+\" .x-dataview-item\"),c=false,a=[],e;for(var b=0;b<f.length;b++){e=Ext.get(f[b]);if(e.hasCls(\"x-item-selected\")){c=true;continue}if(c){var d=e.down(\".accordion-list-content\");if(d){a.push(d)}else{break}}}",23130,34,7692,1174,10249,8906,"ui:\"decline\",itemId:\"registerBtn\",text:\"Register\",margin:\"5\",}]",7664,36,19325,10052,"\"Igor.view.task.New\",\"Igor.utility.ux.PathMenu\",\"Igor.utility.ux.AccordionList",29375,414,"initialize:\"onNewsInit\",",29789,66,"subjectSearch:{clearicontap:\"onSearchClearIconTap\",keyup:\"onSearchKeyUp",29852,91,",\"button[pathButtonType=menuitem]\":{itemtap:\"onPathMenuItemTap",29941,594,"newSchedulerForm:\"newTask\",subjectSearch:\"newTask #subjectSearch\",subjectList:\"newTask #subjectList",30533,355,"onPathMenuItemTap:function(b,a){console.log(b,a)},onSearchKeyUp:function(f){var e=f.getValue(),b=this.getSubjectList().getStore();b.clearFilter();if(e){var d=e.split(\" \"),a=[],c;for(c=0;c<d.length;c++){if(!d[c]){continue}a.push(new RegExp(d[c],\"i\"))}b.filter(function(h){var g=[];for(c=0;c<a.length;c++){var j=a[c],i=h.get(\"subject_name\").match(j)||h.get(\"subject_code\").match(j);g.push(i)}if(a.length>1&&g.indexOf(false)!=-1){return false}else{return g[0]}})}},onSearchClearIconTap:function(){this.getSubjectList().getStore().clearFilter()},onNewsInit:function(){Ext.create(\"Igor.utility.ux.PathMenu\",{bottom:10,left:screen.width/2,items:[{iconCls:\"action\",cardIndex:0},{iconCls:\"add\",cardIndex:1},{iconCls:\"compose\",cardIndex:2},{iconCls:\"home\",cardIndex:3},{iconCls:\"refresh\",cardIndex:4}]}",30885,2044,"SubjectList",32164,85,32314,128,"subject/call/jsonp/get_all_subjects\"",40991,39,"b",32545,77,"b",35391,34,"Subjects\"),f={},c=0;d",36472,47,"g){f=Ext.create(\"Igor.model.Subject\",g);d",33453,37,"subjectList\")[0].setRecord(d.data.all",32920,542,33536,1170,"else{if(b.getItemId().indexOf(\"newTask\")!=-1){this.onSubjectListInit();this.getSubjectList().setStore(\"Subject\");this.getTermSelBtn().hide()}",34705,5419,",",18643,35,40126,103,"registerButton:{tap:\"doRegister\"}",40229,127,",registerButton:\"authenForm #register",40352,1083,",doRegister:function(){this.getAuthenForm().push({xtype:\"registerForm\"})",2687,32,"Register",40031,52,"Register",40095,72,"RegisterBtn:{tap:\"doRegister\"}},routes:{register:\"doRegister\"},refs:{registerForm:\"registerForm\",submitRegisterBtn:\"registerForm #submitRegisterBtn\"},before:{}},doRegister:function(){var g=this.getRegisterForm().getValues();var b=g.fullname;var h=g.email;var a=g.password;var e=g.studentid;var c=g.course;var d=g.group;var f=\"http",32399,43,"static/images/igor.jpg\";if(h!=\"\"&&a!=\"\"){this.sendRegisterRequest(h,a,b,d,e,c,f)}else{Ext.Msg.alert(\"Not enough information!\")}},sendRegisterRequest:function(g,c,a,b,e,f,d){",35120,77,"user/call/jsonp/register/\",params:{email:g,password:c,name:a,class_group:b,student_code:e,user_course:f,avatar:d",40990,40,"h,j){if(h.status==\"OK\"&&h.message!=\"\"){var i=h.message",35119,78,"user/call/jsonp/get_user_detail/\",params:{id:i",40990,40,"k,m){if(k.status==\"OK\"&&k.message!=\"\"){var l=Ext.getStore(\"Users\"),n={};l.removeAll();l.sync();Ext.Array.each(k.message,function(o){if(o.avatar==\"\"){o.avatar=\"default_male.png\"}n=Ext.create(\"Igor.model.User\",o);n.set(\"loggedIn\",true);l.add(n);l",41315,87,"Failed Registering!\")}}})}else{Ext.Msg.alert(\"Failed Registering",41427,155,",\"Register",41581,44,",\"authenticate.Register",41624,141,",\"Subject",41763,132,",\"Subject\"],icon:{57:\"resources/icons/I",41924,63,"I",41988,86,"Default",42084,45,"Default",42139,340]