(dp1
S'output'
p2
S"<type 'exceptions.KeyError'> 'job'"
p3
sS'layer'
p4
S'D:\\workspace\\CA\\IgoR\\C_Sources\\Server\\igor-assistant-ca-2012\\applications\\igor\\models\\db_igor.py'
p5
sS'code'
p6
S"#########################################################################\n## Define database tables\n## Author: phucnh\n#########################################################################\n\n# Define user\ndb.define_table('user', \n    Field('name', 'string'),\n    # Field('keywords', 'list:string'),\n    Field('class_group', 'string'), # TTM, KHMT ...\n    Field('student_code', 'string'),\n    Field('user_course', 'integer'),\n    Field('avatar', 'string'),\n    Field('auth', db.auth_user),\n    )\n\n# db.user.keywords.compute  = lambda r : str (r.name)\n\n# Define subject table\ndb.define_table('subject', \n    Field('name', 'string', length=50, notnull=True),\n    Field('note', 'text'),\n    Field('subject_code', 'string', length=20)\n    )\n\n# Define class_subject table\ndb.define_table('class_subject',\n    #Field('subject', 'integer'),\n    Field('subject', db.subject),\n    Field('location', 'string'),\n    Field('duration', 'integer'),\n    Field('is_finished', 'boolean'),\n    #Field('day_of_week', 'integer', requires=IS_IN_SET(DAY_OF_WEEK_CONST)),\n    Field('term', 'integer'),\n    Field('teacher', 'string'),\n    Field('class_code', 'string', length=20)\n    )\n\ndb.define_table('class_scheduler',\n    Field('class_subject', db.class_subject),\n    Field('day_of_week', 'integer', requires=IS_IN_SET(DAY_OF_WEEK_CONST)), # Monday = 0, Tuesday = 1 ...\n    Field('period', 'string'), # value is string: 1,2,3.\n    Field('location', 'string'), # if this is empty, default is class location \n    )\n\n# Define scheduler table\ndb.define_table('scheduler',\n    Field('owner', 'integer'),\n    Field('class_subject', db.class_subject),\n    #Field('day_of_week', 'integer', requires=IS_IN_SET(DAY_OF_WEEK_CONST)),\n    #Field('period', 'string'),\n    Field('term', 'integer')\n    )\n\n# Define notification table\ndb.define_table('notification',\n    Field('notification_class', 'integer', default = 0), # 0 - job notification, 1 - subject notification\n    Field('owner', 'integer'),\n    Field('user_share', 'integer', default = 0), # if (is share notification) user_share != 0\n    Field('is_read', 'boolean'),\n    Field('type', 'integer'), # 0 - personal (alarm), 1 - sharing job\n    Field('date', 'integer'),\n    Field('is_completed','boolean', default = False),\n    Field('job_id', db.job),\n    )\n\n# Define test table\ndb.define_table('test',\n    Field('class_subject', db.class_subject),\n    Field('test_type', 'integer', default = 0), # 0 - mid term test, 1 - end term test, 2 - project\n    Field('time', 'integer'),\n    Field('location', 'string'),\n    Field('project_due_date', 'integer', default = 0),\n    )\n\n# Define project member\ndb.define_table('project_member',\n    Field('class_subject', db.class_subject),\n    Field('user', 'integer'),\n    Field('note', 'text')\n    )\n\n# Define job table\ndb.define_table('job',\n    Field('name', 'string', length = 50, notnull = True),\n    Field('status', 'integer'),\n    Field('start_time', 'integer'),\n    Field('end_time', 'integer'),\n    Field('job_type', 'integer'), # 0 - subject job, 1 - personal job\n    Field('class_subject', db.class_subject, default = 0),\n    Field('date', 'integer'),\n    Field('repeat_date', 'string', default = '0'), # Ex: (1,2,3). If (repeat_date = 0) no repeat\n    Field('owner', 'integer'), # link with user table\n    Field('note', 'text'),\n    Field('location', 'string'),\n    Field('test', 'integer', default= 0)\n    )\n\n"
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "D:\\workspace\\CA\\IgoR\\C_Sources\\Server\\igor-assistant-ca-2012\\gluon\\restricted.py", line 205, in restricted\n    exec ccode in environment\n  File "D:\\workspace\\CA\\IgoR\\C_Sources\\Server\\igor-assistant-ca-2012\\applications\\igor\\models\\db_igor.py", line 64, in <module>\n    Field(\'job_id\', db.job),\n  File "D:\\workspace\\CA\\IgoR\\C_Sources\\Server\\igor-assistant-ca-2012\\gluon\\dal.py", line 6343, in __getattr__\n    return self[key]\n  File "D:\\workspace\\CA\\IgoR\\C_Sources\\Server\\igor-assistant-ca-2012\\gluon\\dal.py", line 6337, in __getitem__\n    return dict.__getitem__(self, str(key))\nKeyError: \'job\'\n'
p11
s.